<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <title>AXDA Platform</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@2.1.3/mdui.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.staticfile.net/highlight.js/11.9.0/styles/atom-one-dark.min.css" type="text/css" rel="stylesheet" />
    <script>let theme=localStorage.getItem("theme");if(theme==undefined){theme="auto"}document.querySelector('html').classList.add('mdui-theme-'+theme);</script>
    <script src="https://cdn.jsdelivr.net/npm/mdui@2.1.3/mdui.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-base64@3.7.2/base64.min.js"></script>
    <script src="https://cdn.staticfile.net/spark-md5/3.0.2/spark-md5.min.js" type="application/javascript"></script>
    <script src="https://cdn.staticfile.net/showdown/2.1.0/showdown.min.js"></script>
</head>
<body>
<div class="appnav"></div>
<div id="appbar"></div>
<mdui-layout class="p-0 m-0">
    <mdui-layout-main class="center">
        <mdui-linear-progress class="load"></mdui-linear-progress>
        <div id="container" class="big-6 sm-8 pr-1 main hide">
            <div class="ver-center">
                <div class="l title ml-4 hide" id="create-title" lang="4"></div>
                <div class="l title ml-4" id="title"></div>
                <mdui-button class="l row-right" variant="outlined" onclick="window.history.back()" lang="184">返回</mdui-button>
            </div>
            <div id="create-base"></div>
            <mdui-tabs value="info" class="mt-4 sm-full tab hide">
                <mdui-tab value="info" class="l" lang="38" onclick="$('#foot-offset').height(30);">插件信息</mdui-tab>
                <mdui-tab value="readme" class="l" lang="177">自述文件</mdui-tab>
                <mdui-tab-panel slot="panel" id="base" value="info">
                    <div class="ml-4 mt-1" id="tips"></div>
                    <div class="l ml-4 mt-1 hide" id="create-tips" lang="126"></div>
                    <div class="row">
                        <div class="p-1 m-0 big-4 sm-8">
                            <mdui-card class="mt-2 p-2 full-w">
                                <div class="l" lang="38">插件信息</div>
                                <mdui-text-field class="ll lh mt-3 input" ll="47" lh="48" variant="outlined" label="插件名称"
                                                helper="平台显示的插件标题" id="p-title" icon="title"
                                                onclick="$('#p-title').attr('readonly',false);" ></mdui-text-field>
                                <mdui-text-field class="ll lh mt-3 input" ll="54" lh="55" variant="outlined" label="插件简介"
                                                helper="一句话介绍你的插件" id="p-desc" icon="description"
                                                rows="4"></mdui-text-field>
                            </mdui-card>
                        </div>

                        <div class="p-1 m-0 big-4 sm-8">
                            <mdui-card class="mt-2 p-2 full-w">
                                <div class="l" lang="125">仓库配置(不可修改)</div>
                                <mdui-text-field class="ll lh mt-3 input final" ll="49" lh="50" variant="outlined" label="插件索引名"
                                    helper="安装命令的插件名称, 例如`axda install xxx`, 不可修改" id="p-index"
                                    icon="my_location" onclick="$('#index').attr('readonly',false);"
                                    >
                                </mdui-text-field>
                                <mdui-text-field class="ll lh mt-3 input final" ll="51" lh="52" variant="outlined" label="插件注册名"
                                    helper="插件plugin.yml文件中注册的名称, 不可修改" id="p-name" icon="power"
                                    onclick="$('#name').attr('readonly',false);" >
                                </mdui-text-field>
                                <mdui-checkbox class="mt-2 final" id="p-lib">此插件是前置组件</mdui-checkbox>
                            </mdui-card>
                        </div>

                        <mdui-card class="big-8 sm-8 p-2 pl-4 pr-4 m-1">
                            <div class="l" lang="36">相关链接</div>
                            <mdui-text-field class="ll mt-4 input" ll="57" variant="outlined" label="MineBBS 链接" id="minebbs" onclick="$('#minebbs').prop('readonly', false)" readonly>
                                            <mdui-icon slot="icon" style="font-size:28px;" src="/images/minebbs.svg"></mdui-icon>
                            </mdui-text-field>
                            <mdui-text-field class="ll mt-4 input" ll="56" variant="outlined" label="Github 链接" id="github" onclick="$('#github').prop('readonly', false)" readonly>
                                            <mdui-icon style="font-size: 28px;" slot="icon" src="/images/github.svg"></mdui-icon>
                            </mdui-text-field>
                            <div class="mt-2" id="custom-link"></div>
                            <mdui-button-icon class="mt-2" style="width:100px;" variant="tonal" icon="add"
                                            onclick="addLink()"></mdui-button-icon>
                        </mdui-card>
                        
                    </div>


                    <div class="center full-w mt-4">
                        <mdui-button class="l big" lang="70" style="width:200px;" onclick="submit()">提交</mdui-button>
                        <mdui-button full-width class="full-w l small" lang="70" onclick="submit()">提交</mdui-button>
                    </div>

                    <div class="text-center full-w mt-2 hide" id="btn-remove">
                        <mdui-button class="l big red" lang="136" style="width:200px;" onclick="remove()" variant="outlined">删除插件</mdui-button>
                        <mdui-button full-width class="full-w l small red" lang="136" onclick="remove()" variant="outlined">删除插件</mdui-button>
                    </div>
                </mdui-tab-panel>
                <mdui-tab-panel slot="panel" value="readme">
                    <mdui-button class="l mt-3" lang="178" onclick="getReadme('github')" id="readme-btn">从Gituhb导入</mdui-button>
                    <mdui-button class="l mt-3 ml-2" lang="244" onclick="getReadme('minebbs')" id="readme-btn">从MineBBS导入</mdui-button>
                    <mdui-card style="height:300px;width:100%;" id="readme" class="p-4 mt-3">
                    </mdui-card>
                </mdui-tab-panel>
            </mdui-tabs>
            

            <div style="height:50px;"></div>
        </div>
        <div id="foot" class="big-8 sm-8 hide"></div>
    </mdui-layout-main>

    <mdui-dialog close-on-esc close-on-overlay-click class="lt" lt="142" headline="选择文件" id="readme-dialog">
        <div class="p-2">
            <mdui-text-field variant="outlined" label="支持md/html格式" type="text" class="mt-2 ll" ll="245" id="readme-path" value="/README.md">
            </mdui-text-field>
            <mdui-button class="mt-4 l" lang="95" onclick="saveReadmeG($('#readme-path').val())" full-width>确认</mdui-button>
        </div>
    </mdui-dialog>
</mdui-layout>
</body>
<script src="/js/main.js"></script>
<script src="/js/edit_plugin.js"></script>
</html>